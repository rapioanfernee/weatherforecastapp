(window["webpackJsonpweather-app-forecast"]=window["webpackJsonpweather-app-forecast"]||[]).push([[0],{162:function(e,t,n){e.exports=n(389)},167:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){},388:function(e,t,n){},389:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),i=n(16),s=n(23),l=n(24),u=n(26),p=n(25),f=n(27),d=(n(167),n(17)),m=n(91),h=n.n(m),g=n(157),O=n(158),y=n.n(O).a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat("98f992dcebb9b6a744485b4202746242")}),b=function(e){return{type:"SET_SPECIFIED_LOCATION",payload:{latitude:e.latitude,longitude:e.longitude}}},E=n(45),v=n(160),j=n.n(v),S=n(18),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={searchValue:""},n.onMapClick=function(e){var t=e.latLng.lat(),a=e.latLng.lng();n.props.setSpecifiedLocation({latitude:t,longitude:a})},n.onChangeInput=function(e){e.preventDefault(),n.setState({searchValue:e.target.value})},n.onPlacesChanged=function(){var e=n.searchBoxRef.current.getPlaces()[0],t=e.geometry.location.lat(),a=e.geometry.location.lng();n.props.setSpecifiedLocation({latitude:t,longitude:a})},n.searchBoxRef=r.a.createRef(),n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({searchValue:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude)})}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.setState({searchValue:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude)})}},{key:"render",value:function(){return r.a.createElement(E.GoogleMap,{defaultZoom:15,defaultCenter:{lat:this.props.location.latitude,lng:this.props.location.longitude},center:{lat:this.props.location.latitude,lng:this.props.location.longitude},onClick:this.onMapClick},r.a.createElement(E.Marker,{position:{lat:this.props.location.latitude,lng:this.props.location.longitude}}),r.a.createElement(j.a,{ref:this.searchBoxRef,bounds:this.props.bounds,controlPosition:window.google.maps.ControlPosition.LEFT_BOTTOM,onPlacesChanged:this.onPlacesChanged,style:{zIndex:"5",background:"Blue"}},r.a.createElement("form",{style:{background:"rgba(200,200,200, 0.9)",padding:16,display:"flex",flexDirection:"column",borderRadius:"4px",height:95,marginLeft:8,color:"black"},className:"google-search-form"},r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Location. Search for a place to determine weather forecast."),r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Example: SM Megamall"),r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Example: 14.5, 121.5"),r.a.createElement("input",{type:"text",placeholder:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude),style:Object(i.a)({boxSizing:"border-box",border:"1px solid transparent",width:"100%",height:"32px",marginTop:"8px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",zIndex:"5"},"padding",4),value:this.state.searchValue,onChange:this.onChangeInput}))))}}]),t}(r.a.Component),w=Object(S.d)(E.withScriptjs,E.withGoogleMap,Object(d.b)(function(e){return{location:e.location}},{fetchCurrentLocation:function(){return{type:"FETCH_CURRENT_LOCATION"}},fetchSpecifiedLocation:function(){return{type:"FETCH_SPECIFIED_LOCATION"}},setSpecifiedLocation:b}))(C),P=(n(385),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={latitude:null,longitude:null},n.getCurrentPosition=function(e){n.setState({latitude:e.coords.latitude,longitude:e.coords.longitude})},n.onChangeLatitude=function(e){n.setState({latitude:e.target.value})},n.onChangeLongitude=function(e){n.setState({longitude:e.target.value})},n.onFormSubmit=function(e){e.preventDefault(),n.props.onFormSubmit(parseFloat(n.state.latitude),parseFloat(n.state.longitude))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.getCurrentPosition)}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.setState({latitude:this.props.location.latitude,longitude:this.props.location.longitude})}},{key:"render",value:function(){return r.a.createElement("div",{className:"locationform",onSubmit:this.onFormSubmit},r.a.createElement(w,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDi1HxwkYitZLo1J1QNfSGMqBSlyNiy7Hw"),loadingElement:r.a.createElement("div",{className:"loadingElement googlemap"}),containerElement:r.a.createElement("div",{className:"containerElement googlemap"}),mapElement:r.a.createElement("div",{className:"mapElement googlemap",style:{height:"100%"}}),isMarkerShown:!0}))}}]),t}(r.a.Component)),D=Object(d.b)(function(e){return{location:e.location}},{})(P),N=(n(386),n(387),Object(d.b)(function(e){return{date:e.date}},{})(function(e){var t=new Date(1e3*e.time);return r.a.createElement("div",{className:"forecast-current"},r.a.createElement("span",{className:"forecast-current-temperature"},(5/9*(e.apparentTemperature-32)).toFixed(2)," \xb0C"),r.a.createElement("div",{className:"forecast-current-date"},r.a.createElement("span",{className:"forecast-current-date-hour"},function(e){var t=e.getHours(),n=e.getMinutes();return t>=13?(t-=12).toString()+":"+n.toString()+" PM":0===t?"12"+n.toString()+" AM":t<=11?t.toString()+":"+n.toString()+" AM":12===t?"12:"+n.toString()+" PM":void 0}(t))," ",r.a.createElement("span",{className:"forecast-current-date-month"},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ",t.getDate())),r.a.createElement("span",{className:"forecast-current-rain-chance"},(100*e.precipProbability).toFixed(2),"% chance to"," ",e.precipType),r.a.createElement("span",{className:"forecast-current-summary"},e.summary),r.a.createElement("span",{className:"forecast-current-timezone"},e.timezone.toString().replace("_"," ")),r.a.createElement("span",{className:"forecast-current-latlong"},"Lat: ",e.latitude),r.a.createElement("span",{className:"forecast-current-latlong"},"Long: ",e.longitude),r.a.createElement("span",{className:"forecast-current-note"},"(Scroll to bottom part for the maps)"))})),T=(n(388),function(e){var t,n=new Date(1e3*e.time);return r.a.createElement("div",{className:"forecast-hourly"},r.a.createElement("div",null,r.a.createElement("span",{className:"forecast-hourly-time"},(t=n.getHours())>=13?(t-=12).toString()+"PM":t<=11?t.toString()+"AM":12===t?"12PM":void 0),r.a.createElement("span",{className:"forecast-hourly-temperature"},(5/9*(e.apparentTemperature-32)).toFixed(2)," \xb0C")),r.a.createElement("span",{className:"forecast-hourly-date"},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]," ",n.getDate()),r.a.createElement("span",{className:"forecast-hourly-rain"},(100*e.precipProbability).toFixed(2),"% chance to"," ",e.precipType))});function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var F=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderHourly=function(e){var t=[],n=[];return e.forEach(function(e,a){0!==new Date(1e3*e.time).getHours()?n.push(e):(t.push(n),(n=[]).push(e))}),t},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.forecastData.currently,{timezone:this.props.forecastData.timezone,latitude:this.props.forecastData.latitude,longitude:this.props.forecastData.longitude});return r.a.createElement("div",{className:"forecast"},this.props.forecastData&&this.props.forecastData.currently?r.a.createElement(N,e):"",this.renderHourly(this.props.forecastData.hourly.data).map(function(e,t){return r.a.createElement("div",{key:t,className:"forecast-hourly-container"},e.map(function(e,t){return r.a.createElement(T,Object.assign({key:t},e))}))}))}}]),t}(r.a.Component);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var k=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={forecastData:null,refresh:0},n.getCurrentPosition=function(e){n.props.fetchForecastCurrentLocation(e.coords)},n.onFormSubmit=function(e,t){n.props.setSpecifiedLocation({latitude:e,longitude:t})},n.setForecastClass=function(e){switch(e){case"clear-day":return"sunny";case"clear-night":return"night";case"rain":return"rainy-night";case"partly-cloudy-day":return"cloudy-morning";case"partly-cloudy-night":return"cloudy-night";case"fog":return"fog";case"cloudy":return"cloudy-morning";default:return""}},n.refresh=function(){n.setState(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{refresh:e.refresh+1})})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.refresh()},1e4),navigator.geolocation.getCurrentPosition(this.props.setCurrentLocation)}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.props.fetchForecastCurrentLocation(this.props.location)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e={onFormSubmit:this.onFormSubmit},t={forecastData:this.props.forecast,currentDate:this.props.date};return r.a.createElement("div",{className:"container"},this.props.forecast.currently?r.a.createElement("div",{className:"container-app container-app-rainy-night"},r.a.createElement(F,t),r.a.createElement(D,e)):"")}}]),t}(r.a.Component),x=Object(d.b)(function(e){return{location:e.location,forecast:e.forecast}},{fetchForecastCurrentLocation:function(e){return function(){var t=Object(g.a)(h.a.mark(function t(n){var a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("".concat(e.latitude,",").concat(e.longitude));case 2:a=t.sent,n({type:"FETCH_FORECAST_CURRENT_LOCATION",payload:a.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setCurrentLocation:function(e){return{type:"SET_CURRENT_LOCATION",payload:{latitude:e.coords.latitude,longitude:e.coords.longitude}}},setSpecifiedLocation:b})(k),I=n(161);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=Object(S.c)({forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORECAST_CURRENT_LOCATION":case"FETCH_FORECAST_SPECIFIED_LOCATION":return A({},e,{},t.payload);default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_LOCATION":return H({},e,{},t.payload);case"FETCH_CURRENT_LOCATION":return e;case"SET_SPECIFIED_LOCATION":return H({},e,{},t.payload);case"FETCH_SPECIFIED_LOCATION":default:return e}}}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,J=Object(S.e)(U,z(Object(S.a)(I.a)));c.a.render(r.a.createElement(d.a,{store:J},r.a.createElement(x,null)),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.acbe0b5b.chunk.js.map