(window["webpackJsonpweather-app-forecast"]=window["webpackJsonpweather-app-forecast"]||[]).push([[0],{162:function(e,t,a){e.exports=a(389)},167:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),i=a(22),s=a(23),l=a(26),u=a(24),p=a(27),d=(a(167),a(16)),f=a(91),m=a.n(f),g=a(157),h=a(158),y=a.n(h).a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat("98f992dcebb9b6a744485b4202746242")}),O=function(e){return{type:"SET_SPECIFIED_LOCATION",payload:{latitude:e.latitude,longitude:e.longitude}}},b=a(25),E=a(45),v=a(160),S=a.n(v),C=a(17),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={searchValue:""},a.onMapClick=function(e){var t=e.latLng.lat(),n=e.latLng.lng();a.props.setSpecifiedLocation({latitude:t,longitude:n})},a.onChangeInput=function(e){e.preventDefault(),a.setState({searchValue:e.target.value})},a.onPlacesChanged=function(){var e=a.searchBoxRef.current.getPlaces()[0],t=e.geometry.location.lat(),n=e.geometry.location.lng();a.props.setSpecifiedLocation({latitude:t,longitude:n})},a.searchBoxRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({searchValue:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude)})}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.setState({searchValue:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude)})}},{key:"render",value:function(){return r.a.createElement(E.GoogleMap,{defaultZoom:15,defaultCenter:{lat:this.props.location.latitude,lng:this.props.location.longitude},center:{lat:this.props.location.latitude,lng:this.props.location.longitude},onClick:this.onMapClick},r.a.createElement(E.Marker,{position:{lat:this.props.location.latitude,lng:this.props.location.longitude}}),r.a.createElement(S.a,{ref:this.searchBoxRef,bounds:this.props.bounds,controlPosition:window.google.maps.ControlPosition.LEFT_BOTTOM,onPlacesChanged:this.onPlacesChanged,style:{zIndex:"5",background:"Blue"}},r.a.createElement("form",{style:{background:"rgba(200,200,200, 0.9)",padding:16,display:"flex",flexDirection:"column",borderRadius:"4px",height:95,marginLeft:8},className:"google-search-form"},r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Location. Search for a place to determine weather forecast."),r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Example: SM Megamall"),r.a.createElement("label",{style:{fontSize:"0.7rem"}},"Example: 14.5, 121.5"),r.a.createElement("input",{type:"text",placeholder:"".concat(this.props.location.latitude,", ").concat(this.props.location.longitude),style:Object(b.a)({boxSizing:"border-box",border:"1px solid transparent",width:"100%",height:"32px",marginTop:"8px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",zIndex:"5"},"padding",4),value:this.state.searchValue,onChange:this.onChangeInput}))))}}]),t}(r.a.Component),w=Object(C.d)(E.withScriptjs,E.withGoogleMap,Object(d.b)(function(e){return{location:e.location}},{fetchCurrentLocation:function(){return{type:"FETCH_CURRENT_LOCATION"}},fetchSpecifiedLocation:function(){return{type:"FETCH_SPECIFIED_LOCATION"}},setSpecifiedLocation:O}))(j),N=(a(385),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={latitude:null,longitude:null},a.getCurrentPosition=function(e){a.setState({latitude:e.coords.latitude,longitude:e.coords.longitude})},a.onChangeLatitude=function(e){a.setState({latitude:e.target.value})},a.onChangeLongitude=function(e){a.setState({longitude:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),a.props.onFormSubmit(parseFloat(a.state.latitude),parseFloat(a.state.longitude))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.getCurrentPosition)}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.setState({latitude:this.props.location.latitude,longitude:this.props.location.longitude})}},{key:"render",value:function(){return r.a.createElement("div",{className:"locationform",onSubmit:this.onFormSubmit},r.a.createElement(w,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDi1HxwkYitZLo1J1QNfSGMqBSlyNiy7Hw"),loadingElement:r.a.createElement("div",{className:"loadingElement googlemap"}),containerElement:r.a.createElement("div",{className:"containerElement googlemap"}),mapElement:r.a.createElement("div",{className:"mapElement googlemap",style:{height:"100%"}}),isMarkerShown:!0}))}}]),t}(r.a.Component)),P=Object(d.b)(function(e){return{location:e.location}},{})(N),D=(a(386),a(387),Object(d.b)(function(e){return{date:e.date}},{})(function(e){var t=new Date(1e3*e.time);return r.a.createElement("div",{className:"forecast-current"},r.a.createElement("span",{className:"forecast-current-temperature"},(5/9*(e.apparentTemperature-32)).toFixed(2)," \xb0C"),r.a.createElement("div",{className:"forecast-current-date"},r.a.createElement("span",{className:"forecast-current-date-hour"},function(e){var t=e.getHours(),a=e.getMinutes();return t>=13?(t-=12).toString()+":"+a.toString()+" PM":0===t?"12"+a.toString()+" AM":t<=11?t.toString()+":"+a.toString()+" AM":12===t?"12:"+a.toString()+" PM":void 0}(t))," ",r.a.createElement("span",{className:"forecast-current-date-month"},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ",t.getDate())),r.a.createElement("span",{className:"forecast-current-rain-chance"},(100*e.precipProbability).toFixed(2),"% chance to"," ",e.precipType),r.a.createElement("span",{className:"forecast-current-summary"},e.summary),r.a.createElement("span",{className:"forecast-current-timezone"},e.timezone.toString().replace("_"," ")),r.a.createElement("span",{className:"forecast-current-latlong"},"Lat: ",e.latitude),r.a.createElement("span",{className:"forecast-current-latlong"},"Long: ",e.longitude),r.a.createElement("span",{className:"forecast-current-note"},"(Scroll to bottom part for the maps)"))})),T=(a(388),function(e){var t,a=new Date(1e3*e.time);return r.a.createElement("div",{className:"forecast-hourly"},r.a.createElement("div",null,r.a.createElement("span",{className:"forecast-hourly-time"},(t=a.getHours())>=13?(t-=12).toString()+"PM":0===t?"12AM":t<=11?t.toString()+"AM":12===t?"12PM":void 0),r.a.createElement("span",{className:"forecast-hourly-temperature"},(5/9*(e.apparentTemperature-32)).toFixed(2)," \xb0C")),r.a.createElement("span",{className:"forecast-hourly-date"},["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]," ",a.getDate()),r.a.createElement("span",{className:"forecast-hourly-rain"},(100*e.precipProbability).toFixed(2),"% chance to"," ",e.precipType))});function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).renderHourly=function(e){return e.map(function(e,t){return r.a.createElement(T,Object.assign({key:t},e))})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.props.forecastData.currently,{timezone:this.props.forecastData.timezone,latitude:this.props.forecastData.latitude,longitude:this.props.forecastData.longitude});return r.a.createElement("div",{className:"forecast"},this.props.forecastData&&this.props.forecastData.currently?r.a.createElement(D,e):"",r.a.createElement("div",{className:"forecast-hourly-container"},this.renderHourly(this.props.forecastData.hourly.data)))}}]),t}(r.a.Component),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={forecastData:null},a.getCurrentPosition=function(e){a.props.fetchForecastCurrentLocation(e.coords)},a.onFormSubmit=function(e,t){a.props.setSpecifiedLocation({latitude:e,longitude:t})},a.setForecastClass=function(e){switch(e){case"clear-day":return"sunny";case"clear-night":return"night";case"rain":return"rainy-night";case"partly-cloudy-day":return"cloudy-morning";case"partly-cloudy-night":return"cloudy-night";case"fog":return"fog";case"cloudy":return"cloudy-morning";default:return""}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.props.setCurrentLocation)}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.props.fetchForecastCurrentLocation(this.props.location)}},{key:"render",value:function(){var e={onFormSubmit:this.onFormSubmit},t={forecastData:this.props.forecast,currentDate:this.props.date};return r.a.createElement("div",{className:"container"},this.props.forecast.currently?r.a.createElement("div",{className:"container-app container-app-".concat(this.setForecastClass(this.props.forecast.currently.icon))},r.a.createElement(F,t),r.a.createElement(P,e)):"")}}]),t}(r.a.Component),x=Object(d.b)(function(e){return{location:e.location,forecast:e.forecast}},{fetchForecastCurrentLocation:function(e){return function(){var t=Object(g.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("".concat(e.latitude,",").concat(e.longitude));case 2:n=t.sent,a({type:"FETCH_FORECAST_CURRENT_LOCATION",payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setCurrentLocation:function(e){return{type:"SET_CURRENT_LOCATION",payload:{latitude:e.coords.latitude,longitude:e.coords.longitude}}},setSpecifiedLocation:O})(_),M=a(161);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(b.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H=Object(C.c)({forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORECAST_CURRENT_LOCATION":case"FETCH_FORECAST_SPECIFIED_LOCATION":return I({},e,{},t.payload);default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_LOCATION":return R({},e,{},t.payload);case"FETCH_CURRENT_LOCATION":return e;case"SET_SPECIFIED_LOCATION":return R({},e,{},t.payload);case"FETCH_SPECIFIED_LOCATION":default:return e}}}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,U=Object(C.e)(H,z(Object(C.a)(M.a)));c.a.render(r.a.createElement(d.a,{store:U},r.a.createElement(x,null)),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.3a0c2f72.chunk.js.map